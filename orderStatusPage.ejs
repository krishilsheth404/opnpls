<html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generated by Codia AI</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Albert+Sans:wght@400;500&amp;display=swap">
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- Leaflet Curve Plugin -->
  <script src="https://cdn.jsdelivr.net/gh/elfalem/Leaflet.curve/leaflet.curve.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/leaflet-curve@1.0.0/leaflet.curve.min.js"></script>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>

<style>
      :root {
--default-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
  Ubuntu, "Helvetica Neue", Helvetica, Arial, "PingFang SC",
  "Hiragino Sans GB", "Microsoft Yahei UI", "Microsoft Yahei",
  "Source Han Sans CN", sans-serif;
}
body{
  margin: 0px
}
.main-container {
overflow: hidden;
}

.main-container,
.main-container * {
box-sizing: border-box;
}

input,
select,
textarea,
button {
outline: 0;
}

.main-container {
position: relative;
width: 375px;
height: 1402px;
margin: 0 auto;
background: #ffffff;
overflow: hidden;
}
.iphone-x {
position: relative;
width: 375px;
height: 44px;
margin: 0 0 0 0;
z-index: 1;
overflow: hidden;
}
.left-side {
position: absolute;
width: 54px;
height: 21px;
top: 12px;
left: 21px;
z-index: 3;
border-radius: 32px;
}
.time {
position: absolute;
width: 54px;
height: 21px;
top: 0;
left: 0;
background: url(./assets/images/24e22f7c-44bc-4b99-b622-74b8c3d2e30d.png)
  no-repeat center;
background-size: cover;
z-index: 4;
border-radius: 32px;
}
.right-side {
position: absolute;
width: 17.78%;
height: 25.76%;
top: 39.39%;
left: 78.31%;
background: url(./assets/images/78b1dac6-c053-4493-a5bd-9b921980c20d.png)
  no-repeat center;
background-size: 100% 100%;
z-index: 2;
}
.parallax-header {
display: flex;
flex-direction: column;
align-items: flex-start;
justify-content: center;
flex-wrap: nowrap;
gap: 10px;
position: relative;
width: 375px;
margin: -6px 0 0 0;
z-index: 6;
}
.header {
flex-shrink: 0;
position: relative;
width: 375px;
height: 60px;
z-index: 7;
}
.button {
display: flex;
align-items: center;
justify-content: center;
flex-wrap: nowrap;
gap: 10px;
position: absolute;
width: 62px;
height: 33px;
top: 13px;
left: 294px;
padding: 6.5px 16px 6.5px 16px;
cursor: pointer;
background: #eeeeee;
border: none;
z-index: 9;
border-radius: 99px;
}
.shop-now {
flex-shrink: 0;
flex-basis: auto;
position: relative;
height: 20px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 500;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 10;
}
.button-1 {
display: flex;
align-items: center;
justify-content: center;
flex-wrap: nowrap;
gap: 10px;
position: absolute;
width: 33px;
height: 33px;
top: 13px;
left: 249px;
padding: 8.5px 8.5px 8.5px 8.5px;
background: #eeeeee;
z-index: 11;
border-radius: 99px;
}
.share {
flex-shrink: 0;
position: relative;
width: 16px;
height: 16px;
background: url(./assets/images/7f697b8c-5aa1-4a87-b7f7-a34cb741990d.png)
  no-repeat center;
background-size: cover;
z-index: 12;
overflow: hidden;
}
.close {
position: absolute;
width: 18px;
height: 18px;
top: 21px;
left: 17px;
background: url(./assets/images/91159dc1-0e3d-403c-84bd-50e6d6058032.png)
  no-repeat center;
background-size: cover;
z-index: 8;
}
.preparing-order {
display: block;
position: relative;
height: 36px;
margin: 0 0 0 16px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 24px;
font-weight: 500;
line-height: 36px;
text-align: left;
white-space: nowrap;
z-index: 13;
}
.flex-row-fa {
display: flex;
align-items: center;
justify-content: space-between;
position: relative;
width: 118px;
height: 20px;
margin: 8px 0 0 17px;
z-index: 16;
}
.arriving-at {
flex-shrink: 0;
position: relative;
height: 20px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 16px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 15;
}
.colon {
flex-shrink: 0;
position: relative;
height: 20px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 16px;
font-weight: 500;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 16;
}
.flex-row-a {
position: relative;
width: 340px;
margin: 14px 0 0 16px;
z-index: 22;
}
.line {
width: 62px;
height: 4px;
top: -4px;
left: 0;
background: url(./assets/images/7501f727-d1f7-413a-bcd4-34248f747af5.png)
  no-repeat center;
background-size: cover;
z-index: 18;
}
.line-2 {
position: absolute;
width: 62px;
top: 0;
left: 70px;
background: url(./assets/images/d198d65d-9f31-4181-9b36-d1f22f6aabc1.png)
  no-repeat center;
background-size: cover;
z-index: 19;
}
.line-3 {
width: 62px;
height: 4px;
top: -4px;
left: 139px;
background: url(./assets/images/1f21b5d5-6c6b-45ba-a8ad-60c2ed224bdb.png)
  no-repeat center;
background-size: cover;
z-index: 20;
}
.line-4 {
width: 62px;
height: 4px;
top: -4px;
left: 209px;
background: url(./assets/images/0d8b4bd0-0edb-4f3a-a340-2cd1a0ed0ad4.png)
  no-repeat center;
background-size: cover;
z-index: 21;
}
.line-5 {
position: absolute;
width: 62px;
height: 4px;
top: -4px;
left: 278px;
background: url(./assets/images/736c16cd-1707-41df-8612-da5e164dfefe.png)
  no-repeat center;
background-size: cover;
z-index: 22;
}
.flex-row-e {
display: flex;
align-items: center;
justify-content: space-between;
position: relative;
width: 159px;
height: 20px;
margin: 18px 0 0 17px;
z-index: 25;
}
.latest-arrival-by {
flex-shrink: 0;
position: relative;
height: 20px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 24;
}
.vector {
flex-shrink: 0;
position: relative;
width: 14px;
height: 14.025px;
background: url(./assets/images/21087d48-07b7-461d-a253-83029e3a8453.png)
  no-repeat center;
background-size: 100% 100%;
z-index: 25;
}
.flex-row {
position: relative;
width: 378px;
height: 1174px;
margin: 14px 0 0 0;
z-index: 27;
}
.rectangle {
width: 378px;
height: 370px;
top: 0;
left: 0;
background: #f6f6f6;
z-index: 26;
}
.prepare {
position: relative;
width: 287px;
height: 237px;
margin: 58px 0 0 45.5px;
background: url(./assets/images/c4b77de1-ebb7-444f-b3d4-15d60f45ae1d.png)
  no-repeat center;
background-size: cover;
z-index: 76;
}
.bottom-sheet {
position: absolute;
width: 375px;
top: 317px;
left: 0;
background: #ffffff;
z-index: 27;
overflow: hidden;
border-radius: 10px 10px 0 0;
}
.bar {
position: relative;
width: 70px;
height: 5px;
margin: 16px 0 0 153px;
background: #eeeeee;
z-index: 28;
}
.delivery-details {
display: block;
position: relative;
height: 28px;
margin: 23px 0 0 15px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 20px;
font-weight: 500;
line-height: 28px;
text-align: left;
white-space: nowrap;
z-index: 30;
}
.row {
position: relative;
width: 343px;
height: 54px;
margin: 16px 0 0 16px;
font-size: 0px;
z-index: 31;
overflow: visible auto;
}
.address {
display: block;
position: relative;
height: 20px;
margin: 0 0 0 0;
color: #6b6b6b;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 33;
}
.bay-area-san-francisco {
display: block;
position: relative;
height: 20px;
margin: 2px 0 0 0;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 34;
}
.separator {
position: relative;
width: 343px;
height: 1px;
margin: 11px 0 0 0;
background: url(./assets/images/e06aa1cf-0bab-4d28-afc8-63c3c76ffcfb.png)
  no-repeat center;
background-size: cover;
z-index: 32;
}
.row-6 {
position: relative;
width: 343px;
height: 54px;
margin: 12px 0 0 15px;
font-size: 0px;
z-index: 35;
overflow: visible auto;
}
.type {
display: block;
position: relative;
height: 20px;
margin: 0 0 0 0;
color: #6b6b6b;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 37;
}
.leave-at-door {
display: block;
position: relative;
height: 20px;
margin: 2px 0 0 0;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 38;
}
.separator-7 {
position: relative;
width: 343px;
height: 1px;
margin: 11px 0 0 0;
background: url(./assets/images/2ab22d37-6ae5-4e25-9e20-a043a0f41a6d.png)
  no-repeat center;
background-size: cover;
z-index: 36;
}
.row-8 {
position: relative;
width: 343px;
height: 74px;
margin: 12px 0 0 16px;
font-size: 0px;
z-index: 42;
overflow: visible auto;
}
.instructions {
display: block;
position: relative;
height: 20px;
margin: 0 0 0 0;
color: #6b6b6b;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 44;
}
.please-knock-leave-at-door {
display: flex;
align-items: flex-start;
justify-content: flex-start;
position: relative;
width: 327px;
height: 40px;
margin: 2px 0 0 0;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
text-overflow: initial;
z-index: 45;
overflow: hidden;
}
.separator-9 {
position: relative;
width: 343px;
height: 1px;
margin: 11px 0 0 0;
background: url(./assets/images/c6e8a34d-32e5-4501-9200-5982e422a814.png)
  no-repeat center;
background-size: cover;
z-index: 43;
}
.row-a {
position: relative;
width: 58px;
height: 42px;
margin: 12px 0 0 16px;
font-size: 0px;
z-index: 39;
overflow: visible auto;
}
.service {
display: block;
position: relative;
height: 20px;
margin: 0 0 0 0;
color: #6b6b6b;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 40;
}
.standard {
display: block;
position: relative;
height: 20px;
margin: 2px 0 0 0;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 41;
}
.rectangle-b {
position: relative;
width: 375px;
height: 10px;
margin: 16px 0 0 0;
background: url(./assets/images/6834f1ff-7fb2-452a-a8cd-00656001b3d5.png)
  no-repeat center;
background-size: cover;
z-index: 29;
}
.share-c {
position: relative;
width: 375px;
height: 68px;
margin: 16px 0 0 0;
z-index: 46;
overflow: visible auto;
}
.flex-row-aab {
display: flex;
align-items: center;
justify-content: space-between;
position: relative;
width: 343px;
height: 42px;
margin: 0 0 0 15px;
z-index: 51;
}
.row-d {
flex-shrink: 0;
position: relative;
width: 165px;
height: 42px;
font-size: 0px;
z-index: 48;
}
.share-this-delivery {
display: block;
position: relative;
height: 20px;
margin: 0 0 0 0;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 16px;
font-weight: 500;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 49;
}
.let-someone-follow-along {
display: block;
position: relative;
height: 20px;
margin: 2px 0 0 0;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 50;
}
.button-e {
display: flex;
align-items: center;
justify-content: center;
flex-wrap: nowrap;
flex-shrink: 0;
gap: 10px;
position: relative;
width: 95px;
padding: 10px 16px 10px 16px;
cursor: pointer;
background: #eeeeee;
border: none;
z-index: 51;
border-radius: 99px;
}
.share-f {
flex-shrink: 0;
position: relative;
width: 16px;
height: 16px;
background: url(./assets/images/bf3040b6-34c3-4ac4-ba94-778ec8c87d66.png)
  no-repeat center;
background-size: cover;
z-index: 52;
overflow: hidden;
}
.share-10 {
flex-shrink: 0;
flex-basis: auto;
position: relative;
height: 20px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 500;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 53;
}
.rectangle-11 {
display: flex;
align-items: flex-start;
position: relative;
width: 375px;
height: 10px;
margin: 16px 0 0 0;
background: url(./assets/images/d5eeb059-6b48-4a1f-b7bc-8cceb0e34118.png)
  no-repeat center;
background-size: cover;
z-index: -Infinity;
}
.order-summary {
position: relative;
width: 375px;
height: 194px;
margin: 23px 0 0 0;
font-size: 0px;
z-index: 54;
}
.view-receipt {
display: block;
position: relative;
height: 20px;
margin: 12px 0 0 280px;
color: #05a357;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 500;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 65;
}
.flex-column-f {
position: absolute;
width: 375px;
height: 194px;
top: 0;
left: 0;
font-size: 0px;
z-index: 69;
}
.order-summary-12 {
display: block;
position: relative;
height: 22px;
margin: 0 0 0 16px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 18px;
font-weight: 500;
line-height: 22px;
text-align: left;
white-space: nowrap;
z-index: 63;
}
.subway-warriors-arena-road {
display: block;
position: relative;
height: 20px;
margin: 0 0 0 17px;
color: #6b6b6b;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 64;
}
.basket-choice-row {
position: relative;
width: 228px;
height: 60px;
margin: 29px 0 0 16.003px;
z-index: 55;
}
.details {
position: absolute;
width: 196px;
height: 60px;
top: 0;
left: 32px;
font-size: 0px;
z-index: 56;
}
.cantina-crispy-chicken {
display: block;
position: relative;
height: 20px;
margin: 0 0 0 10px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 16px;
font-weight: 500;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 57;
}
.show-more {
display: flex;
align-items: flex-start;
justify-content: flex-start;
position: absolute;
height: 20px;
top: 20px;
left: 9.997px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 58;
}
.chevron-down {
position: absolute;
width: 14px;
height: 14px;
top: 24px;
left: 88px;
background: url(./assets/images/559e0f50-1580-4b4b-9cd6-1f0815cf1d88.png)
  no-repeat center;
background-size: cover;
z-index: 59;
overflow: hidden;
}
.number-tag {
position: absolute;
width: 29px;
height: 29px;
top: 0;
left: 0;
cursor: pointer;
font-size: 0px;
background: transparent;
border: none;
z-index: 60;
}
.number-1 {
display: block;
position: relative;
height: 20px;
margin: 5px 0 0 11px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 14px;
font-weight: 500;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 62;
}
.rectangle-13 {
position: absolute;
width: 29px;
height: 29px;
top: 0;
left: 0;
background: #eeeeee;
z-index: 61;
}
.total {
position: relative;
width: 341px;
height: 24px;
margin: 6px 0 0 16px;
z-index: 66;
}
.total-14 {
display: flex;
align-items: flex-start;
justify-content: flex-start;
position: absolute;
height: 24px;
top: 0;
left: 0;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 16px;
font-weight: 400;
line-height: 24px;
text-align: left;
white-space: nowrap;
z-index: 67;
}
.us-dollars {
display: flex;
align-items: flex-start;
justify-content: flex-start;
position: absolute;
height: 20px;
top: 2px;
left: 278px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 16px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 68;
}
.rectangle-15 {
position: relative;
width: 375px;
height: 10px;
margin: 23px 0 0 0;
background: url(./assets/images/af0081f0-e25d-48d1-996d-0f0210927f14.png)
  no-repeat center;
background-size: cover;
z-index: 69;
}
.invite {
position: relative;
width: 272px;
height: 94.916px;
margin: 23px 0 0 16px;
font-size: 0px;
z-index: 70;
overflow: visible auto;
}
.invite-friends {
display: block;
position: relative;
height: 22px;
margin: 0 0 0 1px;
color: #000000;
font-family: Albert Sans, var(--default-font-family);
font-size: 18px;
font-weight: 500;
line-height: 22px;
text-align: left;
white-space: nowrap;
z-index: 71;
}
.referral-icon {
position: absolute;
width: 90px;
height: 60.916px;
top: 34px;
left: 0;
background: url(./assets/images/ff83f86a1e58f802c07eae4cda506ddaa0c34b4d.png)
  no-repeat center;
background-size: cover;
z-index: 72;
}
.invite-friend-discount {
display: flex;
align-items: flex-start;
justify-content: flex-start;
position: absolute;
height: 20px;
top: 54px;
left: 90px;
color: #05a357;
font-family: Albert Sans, var(--default-font-family);
font-size: 16px;
font-weight: 400;
line-height: 20px;
text-align: left;
white-space: nowrap;
z-index: 73;
}
.home-indicator {
position: relative;
width: 375px;
height: 34px;
margin: 30.084px 0 0 0;
z-index: 74;
overflow: visible auto;
}
.home-indicator-16 {
position: relative;
width: 134px;
height: 5px;
margin: 21px 0 0 121px;
background: #111111;
z-index: 75;
border-radius: 100px;
}

  </style><script src="chrome-extension://mooikfkahbdckldjjndioackbalphokd/assets/prompt.js"></script></head>
  
  
  <% const parsedFinal = JSON.parse(final); %>
  

<body data-new-gr-c-s-check-loaded="14.1215.0" data-gr-ext-installed="" style="height:auto">

  <div class="main-container" style="
   width: 100%;
   height:auto;
   overflow:visible;

">
    <div class="iphone-x">
      <div class="left-side"><div class="time"></div></div>
      <div class="right-side"></div>
    </div>
    <div class="parallax-header">
      <div class="header">
        <button class="button"><span class="shop-now">Help</span></button>
        <div class="button-1"><div class="share"></div></div>
        <div class="close"></div>
      </div>
    </div>
    <span class="preparing-order" id="orderStatus">Preparing your order...</span>
    <div class="flex-row-fa">
      <span class="arriving-at">Arriving at</span><span class="colon">10:15</span>
    </div>
    <div class="flex-row-a" style="
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #ffffff;
  width: 90%;
">
      <div class="line" id="firstPart" style="width: 30%;background: rgb(223, 223, 223);"></div>
      <div class="line-3" id="secondPart" style="width: 30%;background: rgb(223, 223, 223);;"></div>
      <div class="line-4" id="thirdPart" style="width: 30%;background: rgb(223, 223, 223);;"></div>
    </div>
    <div class="flex-row-e">
      <span class="latest-arrival-by">#<%=parsedFinal.orderId%></span>
      <div class="vector"></div>
    </div>
    <div class="flex-row" style="width: 100%;
  height: 100%;">
      <div class="rectangle" style="width: 90%;
  margin: auto;overflow:hidden">
       <div id="map"></div>

       <!-- Leaflet JS -->
  </div>
      <div class="bottom-sheet" style="
  width: 100%;
  margin-top: 65px;
  position:absolute;
">

        <span class="delivery-details">Delivery details</span>
        <div class="row">
          <span class="address">Address</span><span class="bay-area-san-francisco"><%=parsedFinal.address%></span>
          <div class="separator"></div>
        </div>
       
     
        <div class="rectangle-b"></div>
           <div class="flex-column-f" style="
  height: 100%;
  width: 100%;
  position:relative;
  margin-bottom:100px;
">
            
           

            <% for(var i=0;i<parsedFinal.medicineList.length;i++){ %>


            <div class="basket-choice-row">
              <div class="details">
                <span class="cantina-crispy-chicken"><%=parsedFinal.medicineList[i]%></span><span class="show-more"><%=parsedFinal.medicineList[i]%></span>
                <div class="chevron-down"></div>
              </div>
              <button class="number-tag">
                <span class="number-1"><%=parsedFinal.medicineQty[i]%></span>
                <div class="rectangle-13"></div>
              </button>
            </div>

            <%}%>

         
            
            
            <div class="total">
              <span class="total-14">Total</span><span class="us-dollars">US$13.18</span>
            </div>
            <div class="rectangle-15"></div>
          </div>
        </div>
       
      </div>
    </div>
  
  <script>
      if(document.getElementById('orderStatus').innerHTML=="Pending"){
        document.getElementById('firstPart').style.background="rgb(182, 182, 182)"
        document.getElementById('secondPart').style.background="rgb(182, 182, 182)"
        document.getElementById('thirdPart').style.background="rgb(182, 182, 182)"
        
      }else if(document.getElementById('orderStatus').innerHTML=="Out For Delivery"){
        document.getElementById('firstPart').style.background="green"
        document.getElementById('secondPart').style.background="green"
        document.getElementById('thirdPart').style.background="rgb(182, 182, 182)"
   
      }else if(document.getElementById('orderStatus').innerHTML=="Completed"){
      document.getElementById('firstPart').style.background="green"
      document.getElementById('secondPart').style.background="green"
      document.getElementById('thirdPart').style.background="green"
    }

       const orderId = "<%= parsedFinal.orderId %>"; // Pass the orderId dynamically

// Create an EventSource to listen for real-time order status updates
const eventSource = new EventSource(`/order-updates?orderId=${orderId}`);


eventSource.onopen = () => {
    console.log("SSE connection opened successfully");
};
eventSource.onmessage = function(event) {
  console.log("Helllo")
    const data = JSON.parse(event.data);
    console.log(data)
    const orderStatusElement = document.getElementById('orderStatus');
    orderStatusElement.innerHTML = `${data.status}`;

    if(data.status=="Pending"){
      document.getElementById('firstPart').style.background="rgb(182, 182, 182)"
        document.getElementById('secondPart').style.background="rgb(182, 182, 182)"
        document.getElementById('thirdPart').style.background="rgb(182, 182, 182)"
      }else if(data.status=="Out For Delivery"){
        document.getElementById('firstPart').style.background="green"
        document.getElementById('secondPart').style.background="green"
        document.getElementById('thirdPart').style.background="rgb(182, 182, 182)"
    }else if(data.status=="Completed"){
      document.getElementById('firstPart').style.background="green"
      document.getElementById('secondPart').style.background="green"
      document.getElementById('thirdPart').style.background="green"
    }
};

eventSource.onerror = function(event) {
    console.error("Error occurred with SSE", event);
};
    </script>

<style>
  #map {
            width: 100%;
height: 110%;
display: block;
margin: auto;
border-radius: 5px;
          }
          .leaflet-routing-alternatives-container{
            display:none;
          }
          .leaflet-control-container{
            display:none;
          }
</style>

 
<script>
// Initialize the map
var map = L.map('map');

// Add tile layer
L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://carto.com/attributions">CartoDB</a>'
}).addTo(map);

// User location (Point A)
var userLatLng = [19.0760, 72.8777]; // Mumbai
var userMarker = L.marker(userLatLng).addTo(map).bindPopup("<b>Your Location</b>").openPopup();

// Chemist location (Point B)
var chemistLatLng = [19.0820, 72.8800]; // Example location
var chemistMarker = L.marker(chemistLatLng).addTo(map).bindPopup("<b>Chemist Location</b>");

// Draw the shadow (slightly offset curve)
L.marker(userLatLng).addTo(map).bindPopup("<b>Your Location</b>");
      L.marker(chemistLatLng).addTo(map).bindPopup("<b>Chemist Location</b>");

      // Add routing control without directions panel
      L.Routing.control({
          waypoints: [
              L.latLng(userLatLng),  // Start point
              L.latLng(chemistLatLng) // End point
          ],
          routeWhileDragging: true, // Allows route to update dynamically while dragging waypoints
          lineOptions: {
              styles: [
                  { color: 'blue', opacity: 0.7, weight: 4 }
              ]
          },
          // Hide the instructions panel
          show: false
      }).addTo(map);

// Adjust the map view to fit both markers
var bounds = L.latLngBounds([userLatLng, chemistLatLng]);
map.fitBounds(bounds, { padding: [30, 60] }); // Add padding to give some space around the markers
</script>



</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>